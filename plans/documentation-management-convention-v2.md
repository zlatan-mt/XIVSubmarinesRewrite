# ドキュメント管理規約 V2 (改訂版)

## 1. 概要

本ドキュメントは、XIVSubmarinesRewriteプロジェクトにおけるドキュメントの分類、配置、および管理に関する規約を定める。明確なルールを設けることで、情報の発見性を高め、開発効率を向上させることを目的とする。

**作成日**: 2025-11-18
**改訂日**: 2025-11-18
**作成者**: Gemini-CLI

## 2. 現状分析

プロジェクト全体のMarkdownファイルを分析した結果、以下の現状が確認された。

- **ルートディレクトリの混在**: ユーザー向けドキュメント、開発計画、AI開発メモ、分析レポートなどが混在し、雑然としている。
- **`docs`ディレクトリの活用**: `docs/`配下は「AI開発」「分析」「リリース」といったカテゴリで整理されており、良い実践となっている。
- **`plans`ディレクトリの役割**: 大規模な開発計画と、`plans/specs/`配下の仕様駆動開発（SDD）関連の詳細ドキュメントが格納されている。この構造は明確で機能している。
- **補助的なドキュメント**: AIツール設定（`.claude/`など）やリリースパッケージ用のコピー（`release-package/`）が存在するが、これらはプロジェクトの主要ドキュメントとは区別する必要がある。

## 3. ドキュメント分類と配置ルール

ドキュメントを以下の5つのカテゴリに分類し、それぞれに配置場所と管理ルールを定める。

### カテゴリ1: ユーザー向けドキュメント
- **目的**: プラグインの一般ユーザーに対する情報提供。
- **内容**: 使い方、変更履歴、リリース情報。
- **配置場所**: **プロジェクトルート**
- **ファイル例**:
    - `README.md`
    - `CHANGELOG.md`
    - `RELEASE_NOTES_v*.md`
- **管理ルール**:
    - `release`ブランチと`main`ブランチの両方で管理する。
    - リリース時には、これらのファイルが最新の状態であることを確認する。

### カテゴリ2: プロジェクト・プロセスドキュメント
- **目的**: 開発者向けの、プロジェクト横断的な情報やプロセスの共有。
- **内容**: AI開発環境、リリース手順、コーディング規約など。
- **配置場所**: **`docs/`**
- **サブディレクトリ**:
    - `docs/ai-development/`: AI開発支援に関する情報 (例: `AGENTS.md`, `QUICKSTART.md`)
    - `docs/release/`: リリース作業の手順書 (例: `release-checklist.md`)
    - `docs/internal/`: その他、開発内部でのみ使用する規約やメモ。
- **管理ルール**:
    - `main`ブランチでのみ管理する（`release`ブランチには含めない）。

### カテゴリ3: 計画・仕様書ドキュメント
- **目的**: 特定の機能開発や大規模な変更に関する計画と仕様を定義する。
- **内容**: 開発計画書、要件定義書、設計書、タスクリスト。
- **配置場所**: **`plans/`**
- **サブディレクトリ**:
    - `plans/`: 大規模な計画書や完了サマリー (例: `phase12_plan.md`)
    - `plans/specs/`: 仕様駆動開発（SDD）の仕様書。既存の`design`, `requirements`, `steering`などの構造を維持する。
- **管理ルール**:
    - `main`ブランチでのみ管理する（`release`ブランチには含めない）。

### カテゴリ4: 分析・レポートドキュメント
- **目的**: 特定の調査、バグ分析、検証結果などを記録する。
- **内容**: ログ分析レポート、課題調査レポート、検証結果。
- **配置場所**: **`docs/analysis/`**
- **ファイル例**:
    - `log_analysis_report_v1.2.4.md`
    - `report_4th_submarine_status_issue.md`
    - `verification_report_2025-11-16.md`
- **管理ルール**:
    - `main`ブランチでのみ管理する（`release`ブランチには含めない）。
    - ファイル名に日付やバージョンを含め、一意性を保つことが望ましい。

### カテゴリ5: 対象外ドキュメント
- **目的**: プロジェクトの主要ドキュメントとは見なさないファイル。
- **内容**: AIツール設定、ビルド成果物、サードパーティライブラリのドキュメント。
- **配置場所**:
    - `.claude/`, `.codex/`, `.cursor/`, `.cc-sdd.backup/`
    - `release-package/`
    - `vendor/`
- **管理ルール**:
    - 本規約の対象外とし、それぞれのツールの設定やプロセスに従って管理する。
    - `release-package/`内のファイルは、リリースプロセスにおいてルートディレクトリからコピーされたものとして扱う。

## 4. 移行計画（推奨）

本規約を適用するため、以下のファイル整理を推奨する。

### Phase 1: 重複解消
1.  **`CLAUDE.md` の重複解消**
    - ルートにある最新版（サイズ大）を `docs/ai-development/` に上書きコピーし、その後ルートから削除する。
    - `cp CLAUDE.md docs/ai-development/CLAUDE.md`
    - `git rm CLAUDE.md`

### Phase 2: AI開発ドキュメント移動
2.  **`AGENTS.md` を `docs/ai-development/` に移動する。**
    - `mv AGENTS.md docs/ai-development/`

### Phase 3: 計画・分析ドキュメント整理
3.  **ルートにある計画・分析系ファイルを適切な場所に移動する。**
    - `mv PHASE11_COMPLETION_SUMMARY.md plans/`
    - `mv PHASE12_CC_SDD_INSTALLATION_PLAN.md plans/`
    - `mv discord.plan.md plans/`
    - `mv fix_plan_submarine_status_issue.md plans/`
    - `mv report_4th_submarine_status_issue.md docs/analysis/`
    - `mv log_analysis_report_v1.2.4.md docs/analysis/`

## 5. 移行後の作業

1.  **参照の更新**
    - `AGENTS.md`や`CLAUDE.md`を移動したことにより、他のドキュメント（特に`.claude/`配下の設定ファイルなど）からの相対パス参照が切れている可能性があるため、確認・修正する。

2.  **`.gitignore`の確認**
    - ルートディレクトリからドキュメントを移動したことで、意図しないファイルが追跡対象になる、またはその逆が発生しないか、`.gitignore`のパスパターンを確認する。

3.  **動作確認**
    - AI開発支援ツール（Claude Codeなど）が、移動後の`CLAUDE.md`を正しく読み込めるか確認する。