# リリースチェックリスト

## 事前準備

### コード品質確認
- [ ] すべてのテストが通過している（単体テスト + E2Eテスト）
- [ ] コードレビューが完了している
- [ ] リンターエラーがない
- [ ] 警告が適切に処理されている

### ドキュメント更新
- [ ] `CHANGELOG.md` に変更内容を追加
- [ ] `RELEASE_NOTES_v*.md` を作成（新規リリースの場合）
- [ ] `README.md` の必要箇所を更新
- [ ] インストール手順が最新であることを確認

### バージョン管理
- [ ] `manifest.json` のバージョン番号を更新
- [ ] `plugin.json` のバージョン番号を更新
- [ ] コード内のバージョン定数（あれば）を更新

## ビルドとテスト

### ビルド確認
- [ ] Debug ビルドが成功する
- [ ] Release ビルドが成功する
- [ ] ビルド成果物（DLL）が正しく生成される

### テスト実行
- [ ] 単体テスト（xUnit）がすべて通過
- [ ] E2Eテスト（Playwright）がすべて通過
- [ ] 手動テスト（Dalamud環境）を実施

### パッケージ準備
- [ ] `release-package/` ディレクトリに必要なファイルを配置
  - [ ] `XIVSubmarinesRewrite.dll`
  - [ ] `manifest.json`
  - [ ] `plugin.json`
  - [ ] `icon.png`, `icon.128.png`
  - [ ] `README.md`
  - [ ] `CHANGELOG.md`
  - [ ] `RELEASE_NOTES_v*.md`（最新版のみ）
- [ ] ZIPファイルを作成（`XIVSubmarinesRewrite-v*.zip`）

## Git操作

### ブランチ管理
- [ ] `develop` ブランチが最新であることを確認
- [ ] すべての変更がコミットされている
- [ ] リモートにプッシュ済み

### タグ作成
- [ ] リリースタグ（`v*.*.*`）を作成
- [ ] タグをリモートにプッシュ

### リリースブランチ（オプション）
- [ ] `release` ブランチにマージ（必要に応じて）
- [ ] `release` ブランチから `plans/` と `docs/` を除外

## GitHub Release

### リリース作成
- [ ] GitHub Release ページにアクセス
- [ ] 新しいリリースを作成
- [ ] タグを選択（`v*.*.*`）
- [ ] タイトルを入力（例: `v1.1.6 - Discord notification layout improvements`）
- [ ] 説明欄に `RELEASE_NOTES_v*.md` の内容をコピー

### アセットアップロード
- [ ] ZIPファイル（`XIVSubmarinesRewrite-v*.zip`）をアップロード
- [ ] アセット名が正しいことを確認

### 公開
- [ ] リリースを公開（Publish release）
- [ ] リリースページが正しく表示されることを確認

## リリース後確認

### 配布確認
- [ ] Dalamud Plugin Installer からインストール可能であることを確認
- [ ] リポジトリ設定（`repo.json`）が正しいことを確認

### 通知・告知
- [ ] 必要に応じて、Discord 等で告知
- [ ] 既知の問題があれば記載

## トラブルシューティング

### よくある問題

**問題**: ビルドが失敗する
- **確認**: `.csproj` ファイルの設定を確認
- **確認**: 依存関係（NuGetパッケージ、vendor DLL）が正しいか

**問題**: テストが失敗する
- **確認**: テスト環境が正しくセットアップされているか
- **確認**: テストデータが最新であるか

**問題**: GitHub Release が作成できない
- **確認**: タグがリモートにプッシュされているか
- **確認**: GitHub の権限を確認

**問題**: プラグインがインストールできない
- **確認**: `manifest.json` の形式が正しいか
- **確認**: `repo.json` の URL が正しいか

## 関連ドキュメント

- **github-release.md**: GitHub Release作成手順（詳細）
- **CHANGELOG.md**: バージョン履歴
- **RELEASE_NOTES_v*.md**: リリースノート

---

**最終更新**: 2025-01-27

